!function e(o,t,n){function s(i,a){if(!t[i]){if(!o[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[i]={exports:{}};o[i][0].call(u.exports,function(e){var t=o[i][1][e];return s(t?t:e)},u,u.exports,e,o,t,n)}return t[i].exports}for(var r="function"==typeof require&&require,i=0;i<n.length;i++)s(n[i]);return s}({1:[function(e){!function(){function o(){new t(document.querySelector(".board"))}var t=e("./classes/Blackboard");o()}()},{"./classes/Blackboard":5}],2:[function(e,o){o.exports=function(){function e(e,o,t){console.log("[BbImage] constructor","top boundaries are "+t.top);var n=Handlebars.compile($("#imageTemplate").text()),s=n(e);this.el=$(s)[0],this.boundaries=t,this.removeButton=$(this.el).find(".btn-delete")[0],bean.on(this.removeButton,"click",this.removeClickHandler.bind(this)),this.xPos=o.xPos,this.yPos=o.yPos,this.el.style.left=this.xPos+"px",this.el.style.top=this.yPos+"px",this._mouseDownHandler=this.mouseDownHandler.bind(this),this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),this.el.addEventListener("mousedown",this._mouseDownHandler)}return e.prototype.mouseDownHandler=function(e){bean.fire(this,"object_selected",this),e.preventDefault(),offsetX=e.offsetX,offsetY=e.offsetY,window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler)},e.prototype.mouseMoveHandler=function(e){e.y-offsetY>this.boundaries.top&&e.y-offsetY<this.boundaries.bottom&&(this.xPos=e.x-offsetX,this.yPos=e.y-offsetY,this.el.style.left=this.xPos+"px",this.el.style.top=this.yPos+"px")},e.prototype.mouseUpHandler=function(){window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler)},e.prototype.removeClickHandler=function(){bean.fire(this,"remove",this)},e}()},{}],3:[function(e,o){o.exports=function(){function e(){console.log("[BbUploader] constructor")}return e.prototype.upload=function(e,o){console.log("datatype = "+e,"url = "+o)},e}()},{}],4:[function(e,o){o.exports=function(){function e(e,o,t){console.log("[BbVideo] constructor","top boundaries are "+t.top);var n=Handlebars.compile($("#imageTemplate").text()),s=n(imageData);this.el=$(s)[0],this.boundaries=t,this.removeButton=$(this.el).find(".btn-delete")[0],bean.on(this.removeButton,"click",this.removeClickHandler.bind(this)),this.xPos=o.xPos,this.yPos=o.yPos,this.el.style.left=this.xPos+"px",this.el.style.top=this.yPos+"px",this._mouseDownHandler=this.mouseDownHandler.bind(this),this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),this.el.addEventListener("mousedown",this._mouseDownHandler)}return e.prototype.mouseDownHandler=function(e){bean.fire(this,"object_selected",this),e.preventDefault(),offsetX=e.offsetX,offsetY=e.offsetY,window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler)},e.prototype.mouseMoveHandler=function(e){e.y-offsetY>this.boundaries.top&&e.y-offsetY<this.boundaries.bottom&&(this.xPos=e.x-offsetX,this.yPos=e.y-offsetY,this.el.style.left=this.xPos+"px",this.el.style.top=this.yPos+"px"),console.log("Offset x = "+this.xPos+" | y = "+this.yPoss)},e.prototype.mouseUpHandler=function(){window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler)},e.prototype.removeClickHandler=function(){bean.fire(this,"remove",this)},e}()},{}],5:[function(e,o){o.exports=function(){function o(e){var o=new _;bean.on(o,"login"),bBuploader=new x,$(".containerrechts2").hide(),this.el=e,Array.prototype.forEach.call(document.getElementsByTagName("input"),function(e){e.getAttribute("data-control")?e.addEventListener("click",t):console.log(e+"does not contain data control")}),-1!=document.URL.search("home"),n()}function t(e){switch(e.preventDefault(),e.currentTarget.getAttribute("data-control")){case"new_project":s();break;case"invite_user":r();break;case"save_project":i();break;case"delete_project":a();break;case"add_image":l("assets/images/2014-11-30-sunday-rec-projects-bucks-dinosaurs.jpg");break;case"add_post-it":d();break;case"add_video":p();break;case"upload":h()}}function n(){m=new w;var e={image_url:"assets/images/2014-11-30-sunday-rec-projects-bucks-dinosaurs.jpg"},o={image_url:"assets/images/2014-11-30-sunday-rec-projects-wiersma-family-crest.jpg"},t=[e,o];l(t)}function s(){var e=document.querySelector(".project_name").value,o=m.setProjectName(e);switch(o){case"success":$("h2").text(e);break;case"name_set":break;case"no_name":}}function r(){new b}function i(){console.log(m.saveProject())}function a(){console.log("delete_project")}function l(e){var o,t=[];if(e instanceof Array)for(var n=0;n<e.length;n++)o=new v(e[n],P,H),t.push(o);else"string"==typeof e&&(f(),this.currentUploadAction="image",o=new v(j,P,H),t.push(o));$.each(t,function(e,o){$(".board").append(o.el),bean.on(o,"remove",c.bind(this)),bean.on(o,"object_selected",u.bind(this)),m.addElement(o)})}function c(e){$(".board")[0].removeChild(e.el),m.removeElement(e)}function u(e){$.each(m.elements,function(e,o){o.el.style.zIndex="0"}),e.el.style.zIndex=String(m.elements.length)}function d(){f();new y;this.currentUploadAction="postit"}function p(){f();new g;this.currentUploadAction="video"}function f(){$(".containerrechts2").is(":visible")||$(".containerrechts2").show(100)}function h(){console.log(window.FileReader.readAsDataURL),console.log(bBuploader);var e=$(":file").prop("files")[0];if(void 0!==e){{event.target}console.log("url  "+reader.readAsDataURL(e)),bBuploader.upload(this.currentUploadAction,e.name)}else console.log("no file selectd")}var m,v=e("./BbImage"),g=e("./BbVideo"),b=e("./Invite"),y=e("./Postit"),w=e("./Project"),x=e("./BbUploader"),_=e("./Loginregister"),H={top:"190",bottom:"550",left:"0",right:""},P={xPos:200,yPos:200},j={image_url:"assets/images/2014-11-30-sunday-rec-projects-bucks-dinosaurs.jpg"};return o}()},{"./BbImage":2,"./BbUploader":3,"./BbVideo":4,"./Invite":6,"./Loginregister":7,"./Postit":8,"./Project":9}],6:[function(e,o){o.exports=function(){function e(){console.log("[Invite] constructor")}return e}()},{}],7:[function(e,o){o.exports=function(){function e(){if(console.log(s),"undefined"==typeof s){console.log("post is undefined");var e=Handlebars.compile($("#notloggedin-template").text()),t={title:""},n=e(t),r=$(n)[0],i=document.querySelector("#loginheader");i.appendChild(r)}o()}function o(){$(".loginbutton").on("click",function(e){console.log("login!!!"),e.preventDefault(),t()})}function t(){$.post("index.php?page=home",{email:$(".loginEmail").val(),pass:$(".loginPass").val()}).done(function(e){console.log(e),e.result===!0?(s=e.result,console.log("gebruiker ingelogd"),$("#loginheader header").remove(),n(e.session.user)):(e.errors.email&&$(".erroremail").html(e.errors.email),e.errors.email||$(".erroremail").html(""),e.errors.password&&$(".errorpassword").html(e.errors.password),e.errors.password||$(".errorpassword").html(""))})}function n(e){var o=Handlebars.compile($("#loggedin-template").html()),t={user:e},n=o(t),s=[$(n)[0],$(n)[1],$(n)[2]],r=document.querySelector("#loginheader");r.appendChild(s[0]),r.appendChild(s[1]),r.appendChild(s[2]),bean.fire(this,"login")}var s;return e}()},{}],8:[function(e,o){o.exports=function(){function e(){console.log("[Postit] constructor")}return e}()},{}],9:[function(e,o){o.exports=function(){function e(){this.elements=[],this.projectName="",console.log("[Project] constructor")}return e.prototype.addElement=function(e){this.elements.push(e)},e.prototype.removeElement=function(e){this.elements.splice(this.elements.indexOf(e),1),console.log("removed "+e+" from array, has "+this.elements.length+" items")},e.prototype.setProjectName=function(e){return""===e?"no_name":""===this.projectName&&""!==e?(this.projectName=e,"success"):"name_exists"},e.prototype.saveProject=function(){return""===this.projectName?"no_name":($.each(this.elements,function(e,o){console.log(o)}),"success")},e}()},{}]},{},[1]);
//# sourceMappingURL=script.dist.js.map